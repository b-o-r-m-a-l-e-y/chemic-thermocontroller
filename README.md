# Устройство термостабилизации и управления магнитом для химической установки

### Команды интерфейса управления по UART

Форматирование окончания строки `\r\n`.
Числовые значения, если не указано обратное отправлять в формате с точкой, например, `-p 1.2`.
На успешное выполнение команды будет выслано сообщение `ACK`.

`-T 1000` задать период выдачи данных о температуре, подаваемой мощности на нагреватели и магнит в миллисекундах;

`-t 150.0` задать температуру поддержания в градусах по цельсию;

`-o 10.0` задать постоянное смещение температуры;

`-a 1` включить режим автоподдержания температуры (0 - выключен, 1 - включен);

`-M 512` задать мощность, подаваемую на магниты, значение от 0 до 1024;

`-q 150.0 30` задать температуру и время, в течение которого она должна быть достигнута. Первый параметр - температура (в формате с точкой, но часть после точки будет отброшена), второй - время в минутах, целочисленный. При этом температура от времени будет меняться по линейному закону.

`-p 50.0` задать коэффициент P ПИ-регулятора. Параметр - коэффициент, умноженный на 10000 (т.е. для установки коэффициента 0.05 нужно отправить 500.0);

`-i 1.0` задать коэффициент I ПИ-регулятора. Параметр - коэффициент, умноженный на 10000 (т.е. для установки коэффициента 0.01 нужно отправить 100.0);

`-g` вывести текущие настройки;

`-s` сохранить текущие настройки в энергонезависимую память (коэффициенты ПИ-регулятора, период выдачи данных, смещение температуры);

`-d 33.0` задать значение мощности на ТЭНы от 0 до 255